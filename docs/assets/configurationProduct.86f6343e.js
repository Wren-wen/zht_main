import{j as Ie,_ as H,b as me,E as Pe,d as Z,a as Ce,c as Te,e as Oe}from"./ArticleItem.79a82968.js";import{_ as Ae}from"./ProductDetail.aa956f08.js";import{_ as D,r as A,j as Q,B as T,be as ge,o as l,c as g,az as U,b as P,z as N,F as z,e as F,a as e,O as J,R as V,t as k,s as w,n as E,T as $e,aA as be,Z as ee,aw as ye,p as j,h as R,C as K,D as X,u as o,bi as ve,b2 as pe,W as fe,K as xe,bk as ke,y as I,E as L,L as q,S as he,Y as Ue,J as ze}from"./index.75d2230f.js";import{a as Fe,_ as Se}from"./ConfigFrame.2e463bce.js";import{_ as Ee}from"./ConfigFramePicture.61726e08.js";import"./FrameContainer.8ebdcdcd.js";const Y=f=>(j("data-v-8dbffdfe"),f=f(),R(),f),Ne={class:"ConfigFrame"},De={class:"content"},Me=["onClick"],Ve={class:"title"},je=Y(()=>e("span",null,"\u9009\u9879\u5361",-1)),Re=["onClick"],Be={class:"floder"},Le={class:"bar"},Je=Y(()=>e("div",{class:"tit"},"1. \u9009\u9879\u5361\u6587\u5B57",-1)),Ke={class:"bar"},Xe=Y(()=>e("div",{class:"tit"},"2. \u56FE\u5E8A\u56FE\u7247src",-1)),Ye={class:"bar"},Ge=Y(()=>e("div",{class:"tit"},"3. \u70B9\u51FB\u56FE\u7247\u8F6C\u8DF3\u94FE\u63A5href",-1)),We=["onClick"],Ze={__name:"ConfigFrameTextPicture",props:["frame"],emits:["update:frame"],setup(f,{emit:c}){const n=f,_=A(),i=[{name:"\u9009\u9879\u5361",init:()=>({src:"",href:"",zh:"",en:""})}],m=Q(n.frame.map((r,u)=>({id:u,flod:!0,raw:r})));T(m,r=>{c("update:frame",r.map(u=>u.raw))});const p=r=>{const u=m.reduce((v,a,d,t)=>(v[a.id]=!0,v),{});let $=0;for(;u[$];)$++;m.push({id:$,flod:!1,raw:r()}),_.value&&_.value.scrollIntoView({behavior:"auto",block:"end"}),ye(()=>{_.value&&_.value.scrollIntoView({behavior:"smooth",block:"end"})})},s=r=>{const u=m.findIndex($=>$.id===r.id);m.splice(u,1)};return(r,u)=>{const $=H,v=me,a=Ie,d=ge("drag");return l(),g("div",Ne,[U((l(),g("div",De,[P(ee,{name:"drag-list"},{default:N(()=>[(l(!0),g(z,null,F(m,(t,h)=>(l(),g("div",{class:"tool",key:t.id},[e("div",{onClick:b=>t.flod=!t.flod,class:"flodbar"},[U(e("div",{onClick:u[0]||(u[0]=J(()=>{},["stop"])),class:"iconfont icon-tuozhuai"},null,512),[[d,t,"frameTextPicture",{target:!0}]]),e("div",Ve,[je,V(k(t.raw.zh),1)]),t.flod?w("",!0):(l(),g("div",{key:0,onClick:J(b=>s(t),["stop"]),class:"iconfont icon-shanchu"},null,8,Re)),e("div",{class:E({iconfont:1,"icon-sanjiao":1,closed:t.flod})},null,2)],8,Me),P($e,{name:"opacity"},{default:N(()=>[U(e("div",Be,[e("div",Le,[Je,P($,{zh:t.raw.zh,"onUpdate:zh":b=>t.raw.zh=b,en:t.raw.en,"onUpdate:en":b=>t.raw.en=b},null,8,["zh","onUpdate:zh","en","onUpdate:en"])]),e("div",Ke,[Xe,P(v,{cover:t.raw.src,"onUpdate:cover":b=>t.raw.src=b},null,8,["cover","onUpdate:cover"])]),e("div",Ye,[Ge,P(a,{modelValue:t.raw.href,"onUpdate:modelValue":b=>t.raw.href=b,size:"large",style:{width:"100%"},placeholder:":\u94FE\u63A5(\u76F8\u5BF9: /#/product; \u7EDD\u5BF9: https://)"},null,8,["modelValue","onUpdate:modelValue"])])],512),[[be,!t.flod]])]),_:2},1024)]))),128))]),_:1})])),[[d,m,"frameTextPicture",{root:!0}]]),e("div",{ref_key:"toolbox",ref:_,class:"toolbox"},[(l(),g(z,null,F(i,t=>e("div",{onClick:h=>p(t.init),class:"toolbtn nose pointer"},k(t.name),9,We)),64))],512)])}}};var qe=D(Ze,[["__scopeId","data-v-8dbffdfe"]]);const we=f=>(j("data-v-5fbd070c"),f=f(),R(),f),He={class:"ConfigFrame"},Qe={class:"content"},et=["onClick"],tt={class:"title"},nt=we(()=>e("span",null,"\u6587\u5B57",-1)),it=["onClick"],ot={class:"floder"},st={class:"bar"},at=we(()=>e("div",{class:"tit"},"\u6587\u5B57",-1)),lt=["onClick"],dt={__name:"ConfigFrameText",props:["frame"],emits:["update:frame"],setup(f,{emit:c}){const n=f,_=A(),i=[{name:"\u6587\u5B57",init:()=>({zh:"",en:""})}],m=Q(n.frame.map((r,u)=>({id:u,flod:!0,raw:r})));T(m,r=>{c("update:frame",r.map(u=>u.raw))});const p=r=>{const u=m.reduce((v,a,d,t)=>(v[a.id]=!0,v),{});let $=0;for(;u[$];)$++;m.push({id:$,flod:!1,raw:r()}),_.value&&_.value.scrollIntoView({behavior:"auto",block:"end"}),ye(()=>{_.value&&_.value.scrollIntoView({behavior:"smooth",block:"end"})})},s=r=>{const u=m.findIndex($=>$.id===r.id);m.splice(u,1)};return(r,u)=>{const $=H,v=ge("drag");return l(),g("div",He,[U((l(),g("div",Qe,[P(ee,{name:"drag-list"},{default:N(()=>[(l(!0),g(z,null,F(m,(a,d)=>(l(),g("div",{class:"tool",key:a.id},[e("div",{onClick:t=>a.flod=!a.flod,class:"flodbar"},[U(e("div",{onClick:u[0]||(u[0]=J(()=>{},["stop"])),class:"iconfont icon-tuozhuai"},null,512),[[v,a,"frameText",{target:!0}]]),e("div",tt,[nt,V(k(a.raw.zh),1)]),a.flod?w("",!0):(l(),g("div",{key:0,onClick:J(t=>s(a),["stop"]),class:"iconfont icon-shanchu"},null,8,it)),e("div",{class:E({iconfont:1,"icon-sanjiao":1,closed:a.flod})},null,2)],8,et),P($e,{name:"opacity"},{default:N(()=>[U(e("div",ot,[e("div",st,[at,P($,{zh:a.raw.zh,"onUpdate:zh":t=>a.raw.zh=t,en:a.raw.en,"onUpdate:en":t=>a.raw.en=t},null,8,["zh","onUpdate:zh","en","onUpdate:en"])])],512),[[be,!a.flod]])]),_:2},1024)]))),128))]),_:1})])),[[v,m,"frameText",{root:!0}]]),e("div",{ref_key:"toolbox",ref:_,class:"toolbox"},[(l(),g(z,null,F(i,a=>e("div",{onClick:d=>p(a.init),class:"toolbtn nose pointer"},k(a.name),9,lt)),64))],512)])}}};var ct=D(dt,[["__scopeId","data-v-5fbd070c"]]);const G=f=>(j("data-v-5afd0447"),f=f(),R(),f),rt={class:"ConfigTag"},_t={class:"bar"},ut={class:"pathbar"},vt={class:"pathbox"},pt=["onClick"],ft=G(()=>e("div",{class:"path new"}," / \u65B0\u589E ",-1)),ht={class:"box scrollBar"},mt=["onClick"],gt={class:"tagbar"},$t={class:"num"},bt={class:"tagbar"},yt=G(()=>e("div",{class:"num"},null,-1)),xt={class:"bar"},kt={class:"inputbox"},wt={class:"inputbar"},It=G(()=>e("div",{class:"tip"},"\u4E2D",-1)),Pt=["onKeypress"],Ct={class:"inputbar"},Tt=G(()=>e("div",{class:"tip"},"\u82F1",-1)),Ot=["onKeypress"],At={__name:"ConfigPath",props:["path"],emits:["update:path"],setup(f,{emit:c}){var $;const n=f,_=K("opt"),i=A(),m=A(),p=A(($=n.path[n.path.length-1])==null?void 0:$.id),s=X(()=>{let v={};const a=d=>{let t=null;for(const h of d)v[h.id]||(t?v[h.id]=[...v[t.id],h]:v[h.id]=[h]),t=v[h.id][v[h.id].length-1]};for(const d in _.index_init)a(_.index_init[d].path);for(const d in _.article_edit)a(_.article_edit[d].path);return v});T(p,v=>{v?c("update:path",s.value[v]):c("update:path",[])},{immediate:!0});const r=()=>{if(!i.value||!m.value)return;let v=1;for(;s.value.hasOwnProperty(v);)v++;let a;p.value?a=[...s.value[p.value],{id:v,zh:i.value,en:m.value}]:a=[{id:v,zh:i.value,en:m.value}],c("update:path",a),p.value=v,i.value="",m.value=""},u=v=>{let a=null;for(const d of n.path){if(d.id==v)break;a=d.id}p.value=a};return(v,a)=>(l(),g("div",rt,[e("div",_t,[e("div",ut,[e("div",vt,[e("div",{onClick:a[0]||(a[0]=d=>p.value=0),class:"path hover"}," \u9996\u9875 "),(l(!0),g(z,null,F(f.path,d=>(l(),g("div",{onClick:t=>p.value=d.id,class:"path hover",key:d.id}," / "+k(d.id)+"."+k(d.zh),9,pt))),128)),ft])]),e("div",{onClick:a[1]||(a[1]=d=>u(p.value)),class:"btn nose pointer one"},k("\u2190 Back"))]),e("div",ht,[(l(!0),g(z,null,F(o(s),(d,t)=>(l(),g("div",{onClick:h=>p.value=t,class:E({tag:1,active:d.every(h=>f.path.includes(h))}),key:t},[e("div",gt,[e("div",$t,k(t)+".",1),e("div",null,"\u4E2D: "+k(d[d.length-1].zh),1)]),e("div",bt,[yt,e("div",null,"\u82F1: "+k(d[d.length-1].en),1)])],10,mt))),128))]),e("div",xt,[e("div",kt,[e("div",wt,[It,U(e("input",{onKeypress:pe(r,["enter"]),type:"text","onUpdate:modelValue":a[2]||(a[2]=d=>i.value=d),placeholder:": \u65B0\u5EFA\u8DEF\u5F84\u8282\u70B9"},null,40,Pt),[[ve,i.value]])]),e("div",Ct,[Tt,U(e("input",{onKeypress:pe(r,["enter"]),type:"text","onUpdate:modelValue":a[3]||(a[3]=d=>m.value=d),placeholder:": \u65B0\u5EFA\u8DEF\u5F84\u8282\u70B9"},null,40,Ot),[[ve,m.value]])])]),e("div",{onClick:r,class:E({btn:1,nose:1,pointer:1,nouse:!i.value||!m.value})}," \u65B0\u589E\u8DEF\u5F84\u8282\u70B9 + ",2)])]))}};var Ut=D(At,[["__scopeId","data-v-5afd0447"]]);const x=f=>(j("data-v-8903b832"),f=f(),R(),f),zt={class:"ArticleContent"},Ft={class:"editbox scrollBar"},St={class:"bar sticky"},Et={class:"bar one"},Nt=x(()=>e("div",{class:"tit bold"}," \u5546\u54C1id: ",-1)),Dt={class:"bold"},Mt=x(()=>e("span",null,"\u4E0B\u8F7D",-1)),Vt={class:"bar"},jt={key:0,class:"bar one"},Rt=x(()=>e("div",{class:"tit iconfont icon-gantan"},null,-1)),Bt=x(()=>e("div",null,"\u672A\u4FDD\u5B58",-1)),Lt=[Rt,Bt],Jt={key:1,class:"bar one"},Kt=x(()=>e("div",{class:"tit iconfont icon-daoru"},null,-1)),Xt=x(()=>e("div",null,"\u5F85\u5408\u5E76",-1)),Yt=[Kt,Xt],Gt={key:2,class:"bar one"},Wt=x(()=>e("div",{class:"tit iconfont icon-shanchu"},null,-1)),Zt=x(()=>e("div",null,"\u5F85\u5220\u9664",-1)),qt=[Wt,Zt],Ht={key:3,class:"bar one"},Qt=x(()=>e("div",{class:"tit iconfont icon-duigou1"},null,-1)),en=x(()=>e("div",null,"\u65E0\u9700\u64CD\u4F5C",-1)),tn=[Qt,en],nn={key:4},on={class:"bar one"},sn={class:"tit"},an={class:"bar"},ln={class:"file"},dn={class:"bar flexStart"},cn=x(()=>e("div",{class:"tit marginTop"}," \u5546\u54C1\u540D: ",-1)),rn={class:"bar flexStart"},_n=x(()=>e("div",{class:"tit marginTop"}," \u53D1\u5E03\u65F6\u95F4: ",-1)),un={class:"bar flexStart"},vn=x(()=>e("div",{class:"tit marginTop"}," \u5546\u54C1\u56FE: ",-1)),pn={class:"bar flexStart"},fn=x(()=>e("div",{class:"tit marginTop"}," \u8DEF\u5F84: ",-1)),hn={class:"bar flexStart"},mn=x(()=>e("div",{class:"tit marginTop"}," \u5C0F\u5B57\u63CF\u8FF0: ",-1)),gn={class:"bar flexStart"},$n=x(()=>e("div",{class:"tit marginTop"}," \u89C6\u9891: ",-1)),bn={class:"bar flexStart"},yn=x(()=>e("div",{class:"tit marginTop"}," \u53C2\u6570\u56FE: ",-1)),xn={class:"bar flexStart"},kn=x(()=>e("div",{class:"tit marginTop"}," \u5185\u5BB9: ",-1)),wn={class:"bar flexStart"},In=x(()=>e("div",{class:"tit marginTop"}," \u63A8\u8350: ",-1)),Pn={class:"showbox"},Cn={__name:"ProductContent",setup(f){const c=K("opt"),n=fe(c.article_edit,c.id_selected),_=fe(c.info_article_edit,c.id_selected),i=A(!1);T(i,p=>{p?_.value=4:_.value=0}),T(_,p=>{p==4?i.value=!0:i.value=!1},{immediate:!0});const m=()=>{_.value!==1&&_.value!==0&&L({message:"\u5F53\u524D\u65E0\u9700\u4E0B\u8F7D",type:"warning"}),Z(n.value,n.value.id)};return xe(()=>{var p;(p=n.value)!=null&&p.id||ke(c.id_selected).then(s=>{n.value=s}).catch(s=>{var r;n.value=c.index_init[c.id_selected],(r=n.value)!=null&&r.id||(n.value={id:c.id_selected})})}),T(n,(p,s)=>{if(!p)return;let r={};for(const u in c.PARAM_DEFAULT)n.value.hasOwnProperty(u)||(typeof c.PARAM_DEFAULT[u]=="function"?r[u]=c.PARAM_DEFAULT[u]():r[u]=c.PARAM_DEFAULT[u]);Object.assign(n.value,r),n.value.cover=X(()=>n.value.image[0])}),(p,s)=>{var O,B,te,ne,ie,oe,se,ae,le,de,ce,re,_e,ue;const r=Pe,u=H,$=Ce,v=Ee,a=Ut,d=ct,t=Fe,h=me,b=Se,C=qe,W=Ae,M=Te;return l(),g("div",zt,[e("div",Ft,[e("div",St,[e("div",Et,[Nt,e("div",Dt,k((O=o(n))==null?void 0:O.id),1)]),e("div",{onClick:m,class:"btn addnew"},[Mt,V(" "+k((B=o(n))==null?void 0:B.id)+".json ",1)])]),e("div",Vt,[o(_)==0||o(_)==1?(l(),g("div",jt,Lt)):o(_)==2?(l(),g("div",Jt,Yt)):o(_)==4?(l(),g("div",Gt,qt)):o(_)==3?(l(),g("div",Ht,tn)):(l(),g("div",nn)),e("div",on,[e("div",sn,k(i.value?"\u5F85\u5220\u9664":"\u70B9\u51FB\u6807\u8BB0\u4E3A\u5220\u9664"),1),P(r,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=y=>i.value=y),size:"large",style:{"--el-switch-on-color":"#ff4949","--el-switch-off-color":"#d6d3ca"}},null,8,["modelValue"])])]),e("div",an,[e("div",ln,k((ne=o(c).INFO_TYPE[o(_)])==null?void 0:ne.replace(/\$file/g,` ${(te=o(n))==null?void 0:te.id}.json `)),1)]),e("div",dn,[cn,((ie=o(n))==null?void 0:ie.hasOwnProperty("title"))&&((oe=o(n))==null?void 0:oe.hasOwnProperty("title_en"))?(l(),I(u,{key:0,zh:o(n).title,"onUpdate:zh":s[1]||(s[1]=y=>o(n).title=y),en:o(n).title_en,"onUpdate:en":s[2]||(s[2]=y=>o(n).title_en=y)},null,8,["zh","en"])):w("",!0)]),e("div",rn,[_n,(se=o(n))!=null&&se.hasOwnProperty("timestamp")?(l(),I($,{key:0,timestamp:o(n).timestamp,"onUpdate:timestamp":s[3]||(s[3]=y=>o(n).timestamp=y)},null,8,["timestamp"])):w("",!0)]),e("div",un,[vn,(ae=o(n))!=null&&ae.hasOwnProperty("image")?(l(),I(v,{key:0,frame:o(n).image,"onUpdate:frame":s[4]||(s[4]=y=>o(n).image=y)},null,8,["frame"])):w("",!0)]),e("div",pn,[fn,(le=o(n))!=null&&le.hasOwnProperty("path")?(l(),I(a,{key:0,path:o(n).path,"onUpdate:path":s[5]||(s[5]=y=>o(n).path=y)},null,8,["path"])):w("",!0)]),e("div",hn,[mn,(de=o(n))!=null&&de.hasOwnProperty("tip")?(l(),I(d,{key:0,frame:o(n).tip,"onUpdate:frame":s[6]||(s[6]=y=>o(n).tip=y)},null,8,["frame"])):w("",!0)]),e("div",gn,[$n,(ce=o(n))!=null&&ce.hasOwnProperty("video")?(l(),I(t,{key:0,cover:o(n).video,"onUpdate:cover":s[7]||(s[7]=y=>o(n).video=y)},null,8,["cover"])):w("",!0)]),e("div",bn,[yn,(re=o(n))!=null&&re.hasOwnProperty("table")?(l(),I(h,{key:0,cover:o(n).table,"onUpdate:cover":s[8]||(s[8]=y=>o(n).table=y)},null,8,["cover"])):w("",!0)]),e("div",xn,[kn,(_e=o(n))!=null&&_e.hasOwnProperty("frame")?(l(),I(b,{key:0,frame:o(n).frame,"onUpdate:frame":s[9]||(s[9]=y=>o(n).frame=y)},null,8,["frame"])):w("",!0)]),e("div",wn,[In,(ue=o(n))!=null&&ue.hasOwnProperty("recommend")?(l(),I(C,{key:0,frame:o(n).recommend,"onUpdate:frame":s[10]||(s[10]=y=>o(n).recommend=y)},null,8,["frame"])):w("",!0)])]),e("div",Pn,[P(M,null,{default:N(()=>[P(W,{product:o(n)},null,8,["product"])]),_:1})])])}}};var Tn=D(Cn,[["__scopeId","data-v-8903b832"]]);const On={class:"txt"},An={key:0,class:"iconfont icon-gantan"},Un={key:1,class:"iconfont icon-daoru"},zn={key:2,class:"iconfont icon-shanchu"},Fn={__name:"ProductItemMod",props:["value"],setup(f){const c=f,n=K("opt"),_=X(()=>n.info_article_edit[c.value.id]),i=A();let m;const p=(s,r=!1)=>{if(s==0)clearInterval(m);else{clearInterval(m);const u=()=>{ke(c.value.id).then($=>{i.value=$}).catch($=>{i.value=null,_.value!=4&&(n.info_article_edit[c.value.id]=0)})};r&&u(),m=setInterval(u,1e3)}};return p(1,!0),q(()=>{p(0)}),T([i,()=>c.value,()=>n.index_init],([s,r,u],[$,v,a])=>{let d;if(JSON.stringify(s)!==JSON.stringify(c.value))d=1,p(1);else if(d=2,n.id_selected!==c.value.id&&p(0),n.index_init[c.value.id]){let t={};n.INDEX_PARAM.forEach(h=>{t[h]=c.value[h]}),JSON.stringify(t)===JSON.stringify(n.index_init[c.value.id])&&(d=3)}_.value!=4&&(n.info_article_edit[c.value.id]=d)}),T(_,s=>{s===3&&n.id_selected!==c.value.id?(delete n.info_article_edit[c.value.id],delete n.article_edit[c.value.id]):p(1,!0)}),T(()=>n.id_selected,(s,r)=>{s===c.value.id&&p(1,!0),s!==c.value.id&&(_.value===4&&p(0),_.value===3&&(delete n.info_article_edit[c.value.id],delete n.article_edit[c.value.id]))}),(s,r)=>(l(),g("div",{class:E({ArticleItemMod:1,active:f.value.id===o(n).id_selected})},[e("div",On,[V(k(f.value.id),1),e("span",null,". "+k(f.value.title),1)]),o(_)==0||o(_)==1?(l(),g("div",An)):o(_)==2?(l(),g("div",Un)):o(_)==4?(l(),g("div",zn)):w("",!0)],2))}};var Sn=D(Fn,[["__scopeId","data-v-b45f34d2"]]);const S=f=>(j("data-v-00f47b38"),f=f(),R(),f),En={class:"configurationArticle"},Nn={class:"col"},Dn=S(()=>e("div",{class:"title"},"\u5546\u54C1\u7BA1\u7406",-1)),Mn={class:"bar"},Vn={class:"col1"},jn={class:"bar two"},Rn=S(()=>e("div",{class:"iconfont icon-duigou1"},null,-1)),Bn={class:"content scrollBar left"},Ln={class:"col1 two"},Jn={class:"bar two"},Kn={class:"tit"},Xn=S(()=>e("div",{class:"iconfont icon-weibaocun"},null,-1)),Yn={class:"content scrollBar right"},Gn={class:"col two nose"},Wn=S(()=>e("div",{class:"iconfont icon-xiazai"},null,-1)),Zn=S(()=>e("div",null,"1.\u6279\u91CF\u4E0B\u8F7D\u6709\u53D8\u66F4\u7684\u5546\u54C1\u5B9E\u4F8B",-1)),qn=[Wn,Zn],Hn=S(()=>e("div",{class:"iconfont icon-daoru"},null,-1)),Qn=S(()=>e("div",null,"2.\u4E0B\u8F7D\u5408\u5E76\u7684\u7D22\u5F15product_index",-1)),ei=[Hn,Qn],ti=V(" \u68C0\u6D4B\u5230\u7D22\u5F15\u6587\u4EF6\u66F4\u6539"),ni=S(()=>e("span",null,"\u5237\u65B0",-1)),ii=[ti,ni],oi={class:"content"},si={__name:"configurationProduct",setup(f){const i=Q({INFO_TYPE:{0:"\u6587\u4EF6$file\u4E0D\u5B58\u5728\u8BFB\u53D6\u5931\u8D25, \u7F16\u8F91\u5B8C\u6210\u540E\u70B9\u51FB\u4E0B\u8F7D\u6309\u94AE, \u5C06\u6587\u4EF6$file\u653E\u5728\u76EE\u5F55[public/configuration/product]\u4E0B",1:"\u6587\u4EF6$file\u5B58\u5728\u53D8\u66F4, \u70B9\u51FB\u4E0B\u8F7D\u6309\u94AE, \u5C06\u6587\u4EF6$file\u653E\u5728\u76EE\u5F55[public/configuration/product]\u4EE5\u4FDD\u5B58",2:"\u6587\u4EF6$file\u5DF2\u5B58\u5728, \u7B49\u5F85\u5408\u5E76\u7D22\u5F15\u6587\u4EF6product_index.json \u540E\u4EE5\u4FDD\u5B58",3:"\u6587\u4EF6$file\u5DF2\u662F\u6700\u65B0\u4E14\u5728\u4ED3\u5E93\u7D22\u5F15product_index.json \u4E2D, \u65E0\u9700\u4FDD\u5B58",4:"\u6587\u4EF6$file\u5DF2\u6807\u8BB0\u4E3A\u5220\u9664, \u5408\u5E76\u7D22\u5F15\u6587\u4EF6product_index.json \u540E\u751F\u6548"},INDEX_PARAM:["id","cover","title","title_en","timestamp","path"],PARAM_DEFAULT:{title:"",title_en:"",video:"",table:"",timestamp:()=>new Date().getTime(),path:()=>[],tip:()=>[],image:()=>[],frame:()=>[],recommend:()=>[]},id_selected:null,index_reload:{},index_init:{},article_edit:{},info_article_edit:{}}),m=()=>{let t=1;for(;i.index_init.hasOwnProperty(t)||i.article_edit.hasOwnProperty(t);)t++;i.id_selected=t},p=A(!1),s=()=>{const t=Object.keys(i.index_init).length;i.index_init=i.index_reload;const h=Object.keys(i.index_init).length-t;L({message:`\u5237\u65B0\u6210\u529F\uFF0C\u65B0\u589E${h}\u9879`,type:"success"}),p.value=!1},r=X(()=>{for(const t in i.info_article_edit)if(i.info_article_edit[t]!==2&&i.info_article_edit[t]!==3&&i.info_article_edit[t]!==4)return!0;return!1}),u=()=>{if(!r.value)L({message:"\u5F53\u524D\u65E0\u53D8\u66F4, \u65E0\u9700\u4E0B\u8F7D",type:"warning"});else for(const t in i.info_article_edit)(i.info_article_edit[t]===0||i.info_article_edit[t]===1)&&Z(i.article_edit[t],t)},$=()=>{if(r.value)L({message:"\u8BF7\u5148\u4FDD\u5B58\u6240\u6709\u53D8\u66F4",type:"error"});else{let t={};for(const h in i.index_init){let b={};i.INDEX_PARAM.forEach(C=>{i.index_init[h].hasOwnProperty(C)&&(b[C]=i.index_init[h][C])}),t[h]=b}for(const h in i.article_edit){let b={};i.INDEX_PARAM.forEach(C=>{b[C]=i.article_edit[h][C]}),t[h]=b}for(const h in i.info_article_edit)i.info_article_edit[h]===4&&delete t[h];Z(t,"product_index")}};he().then(t=>{i.index_init=t}).catch(t=>{i.index_init={}});let v;const a=t=>{t==0?clearInterval(v):(clearInterval(v),v=setInterval(()=>{he().then(h=>{i.index_reload=h}).catch(h=>{i.index_reload={}})},1e3))};a(1),q(()=>{a(0)}),T(t=>i.index_reload,t=>{JSON.stringify(t)!==JSON.stringify(i.index_init)?p.value=!0:p.value=!1}),Ue((t,h,b)=>{Object.keys(i.article_edit).length>0?confirm("\u5185\u5BB9\u53EF\u80FD\u672A\u4FDD\u5B58\uFF0C\u786E\u5B9A\u79BB\u5F00\u5417\uFF1F")==!0?b():b(!1):b()}),window.addEventListener("beforeunload",t=>{Object.keys(i.article_edit).length>0&&t.preventDefault()});const d=K("configuration");return xe(()=>{d.on=!0}),q(()=>{d.on=!1}),ze("opt",i),(t,h)=>{const b=Oe,C=Sn,W=Tn;return l(),g("div",En,[e("div",Nn,[e("div",{class:"titlebar"},[Dn,e("div",{onClick:m,class:"btn addnew nose pointer"},"\u627E\u56DE/\u6DFB\u52A0\u5546\u54C1 +")]),e("div",Mn,[e("div",Vn,[e("div",jn,[e("div",null,"\u4ED3\u5E93\u7D22\u5F15\u4E2D\u5171 "+k(Object.keys(i.index_init).length)+" \u9879",1),Rn]),e("div",Bn,[(l(!0),g(z,null,F(i.index_init,(M,O)=>(l(),I(b,{onClick:B=>i.id_selected=parseInt(O),value:M,key:O},null,8,["onClick","value"]))),128))])]),e("div",Ln,[e("div",Jn,[e("div",Kn,k(Object.keys(i.article_edit).length)+" \u9879\u6709\u53D8\u66F4\u9700\u7D22\u5F15",1),Xn]),e("div",Yn,[P(ee,{name:"opacity"},{default:N(()=>[(l(!0),g(z,null,F(i.article_edit,(M,O)=>(l(),I(C,{onClick:B=>i.id_selected=parseInt(O),value:M,key:O},null,8,["onClick","value"]))),128))]),_:1})])])]),e("div",Gn,[e("div",{onClick:u,class:E({btn:1,pointer:1,nouse:!o(r)})},qn,2),e("div",{onClick:$,class:E({btn:1,daoru:1,pointer:1,nouse:o(r)})},ei,2),p.value?(l(),g("div",{key:0,onClick:s,class:"btn pointer refresh"},ii)):w("",!0)])]),e("div",oi,[i.id_selected?(l(),I(W,{key:i.id_selected})):w("",!0)])])}}};var ui=D(si,[["__scopeId","data-v-00f47b38"]]);export{ui as default};
