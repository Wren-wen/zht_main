import{_ as E,v as j,w as B,C as S,r as b,D as O,B as y,o as n,c as v,a as l,b as V,F as f,e as $,n as u,t as r,s as i,E as q,g as z,p as A,h as F}from"./index.75d2230f.js";const M=_=>(A("data-v-0bbb22dd"),_=_(),F(),_),R={class:"news"},X={class:"title"},L={class:"container"},T={class:"tabbar"},G=["onClick"],H=M(()=>l("div",{class:"dot"},null,-1)),J={class:"content"},K=["onClick"],P={class:"cover"},Q=["src"],U={class:"switchbox"},W={class:"switch"},Y={key:3,class:u({prev:1,btnp:1,active:1})},Z={__name:"news",setup(_){const h=j(),w=B(),k=S("INDEX"),g=b([]),c=b(1),e=b(0),a=b(0),m=8,x=[{name:"\u516C\u53F8\u65B0\u95FB",tag:1},{name:"\u4EA7\u54C1\u66F4\u65B0",tag:2}],I=O(()=>{let o={};for(const t in k.article)Object.assign(o,k.article[t].tags);return o});y(c,(o,t)=>{!o||(e.value=0)}),y([e,c],(o,t)=>{var s;if(!I.value[c.value]){q.error("tag\u4E0D\u5B58\u5728"),g.value=[];return}let d=[];d=(s=Object.values(k.article))==null?void 0:s.filter(p=>{var C;return(C=Object.keys(p==null?void 0:p.tags))==null?void 0:C.some(D=>D==c.value)}),a.value=Math.ceil(d.length/m),g.value=d.slice(e.value*m,(e.value+1)*m)},{immediate:!0});const N=o=>{w.push({name:"articleDetail",params:{id:o},query:{...h.query}})};return(o,t)=>{const d=z;return n(),v("div",R,[l("div",X,[V(d,{en:"\u65B0\u95FB",zh:"\u65B0\u95FB"})]),l("div",L,[l("div",T,[(n(),v(f,null,$(x,(s,p)=>l("div",{onClick:C=>c.value=s.tag,class:u({tab:1,active:s.tag==c.value})},[l("div",null,r(s.name),1),H],10,G)),64))]),l("div",J,[(n(!0),v(f,null,$(g.value,s=>(n(),v("div",{onClick:p=>N(s.id),class:"item"},[l("div",P,[l("img",{src:`configuration/image_bed/${s==null?void 0:s.cover}`,alt:""},null,8,Q)])],8,K))),256))]),l("div",U,[l("div",W,[l("div",{onClick:t[0]||(t[0]=s=>e.value<=0?0:e.value--),class:u({prev:1,btnp:1,nouse:e.value==0})},r("<"),2),a.value>0?(n(),v("div",{key:0,onClick:t[1]||(t[1]=s=>e.value=0),class:u({prev:1,btnp:1,active:e.value==0})}," 1 ",2)):i("",!0),a.value>1?(n(),v("div",{key:1,onClick:t[2]||(t[2]=s=>e.value=1),class:u({prev:1,btnp:1,active:e.value==1})}," 2 ",2)):i("",!0),e.value>2?(n(),v("div",{key:2,onClick:t[3]||(t[3]=s=>e.value--),class:"btnp prev"}," ... ")):i("",!0),a.value>4&&e.value>1&&e.value<a.value-2?(n(),v("div",Y,r(e.value+1),1)):i("",!0),e.value<a.value-3?(n(),v("div",{key:4,onClick:t[4]||(t[4]=s=>e.value++),class:"btnp prev"}," ... ")):i("",!0),a.value>3?(n(),v("div",{key:5,onClick:t[5]||(t[5]=s=>e.value=a.value-2),class:u({prev:1,btnp:1,active:e.value==a.value-2})},r(a.value-1),3)):i("",!0),a.value>2?(n(),v("div",{key:6,onClick:t[6]||(t[6]=s=>e.value=a.value-1),class:u({prev:1,btnp:1,active:e.value==a.value-1})},r(a.value),3)):i("",!0),l("div",{onClick:t[7]||(t[7]=s=>e.value>=a.value-1?0:e.value++),class:u({prev:1,btnp:1,nouse:e.value==a.value-1})},r(">"),2)])])])])}}};var te=E(Z,[["__scopeId","data-v-0bbb22dd"]]);export{te as default};
