import{_ as D,v as S,w as V,C as q,D as M,r as f,B as $,K as R,L as j,o as u,c as v,a as l,F as I,e as w,u as F,n as d,t as p,s as c,b as x,p as L,h as X,R as E,E as A,g as K}from"./index.75d2230f.js";const O=_=>(L("data-v-0ce9a1b4"),_=_(),X(),_),T={class:"category"},U={class:"header"},G={class:"path"},H=["onClick"],J=E(" / "),Q=O(()=>l("div",{class:"banner"},null,-1)),W={class:"container"},Y={class:"content"},Z={class:"item"},ee={class:"cover"},te=["src"],se={class:"botbox"},ae={class:"txtbar"},oe=["onClick"],ne=E(" > "),le={class:"switchbox"},ue={class:"switch"},ve={key:3,class:d({prev:1,btnp:1,active:1})},re={__name:"category",setup(_){const h=S(),y=V(),g=q("INDEX"),k=M(()=>{let a={};const s=r=>{let e=null;for(const n of r)a[n.id]||(e?a[n.id]=[...a[e.id],n]:a[n.id]=[n]),e=a[n.id][a[n.id].length-1]};for(const r in g.product)s(g.product[r].path);return a}),b=f([]),i=f(0),t=f(),o=f(0),m=8;$(i,(a,s)=>{!a||(t.value=0,k.value[i.value]||(A.error("\u5206\u7C7B\u4E0D\u5B58\u5728"),b.value=[]))}),$([t,i],(a,s)=>{var e;if(!k.value[i.value])return;let r=[];r=(e=Object.values(g.product))==null?void 0:e.filter(n=>{var C;return(C=n==null?void 0:n.path)==null?void 0:C.some(B=>B.id==i.value)}),o.value=Math.ceil(r.length/m),b.value=r.slice(t.value*m,(t.value+1)*m)});const P=a=>{y.push({name:"product",params:{id:a},query:{...h.query}})},N=a=>{a?y.push({path:`/category/${a}`,query:{...h.query}}):y.push({path:"/",query:{...h.query}})};$(h,(a,s)=>{a.name=="category"&&(i.value=a.params.id)},{immediate:!0});const z=q("configuration");return R(()=>{z.on=!0}),j(()=>{z.on=!1}),(a,s)=>{const r=K;return u(),v("div",T,[l("div",U,[l("div",G,[l("div",{onClick:s[0]||(s[0]=e=>N(0)),class:"node"}," \u9996\u9875 "),(u(!0),v(I,null,w(F(k)[i.value],e=>(u(),v("div",{onClick:n=>N(e.id),class:"node"},[J,x(r,{en:e.en,zh:e.zh},null,8,["en","zh"])],8,H))),256))])]),Q,l("div",W,[l("div",Y,[(u(!0),v(I,null,w(b.value,e=>{var n;return u(),v("div",Z,[l("div",ee,[l("img",{src:`configuration/image_bed/${(n=e==null?void 0:e.cover)==null?void 0:n.src}`,alt:""},null,8,te)]),l("div",se,[l("div",ae,[x(r,{en:e.title_en,zh:e.title},null,8,["en","zh"])]),l("div",{onClick:C=>P(e.id),class:"btn"},[x(r,{en:"\u4E86\u89E3\u66F4\u591A",zh:"\u4E86\u89E3\u66F4\u591A"}),ne],8,oe)])])}),256))]),l("div",le,[l("div",ue,[l("div",{onClick:s[1]||(s[1]=e=>t.value<=0?0:t.value--),class:d({prev:1,btnp:1,nouse:t.value==0})},p("<"),2),o.value>0?(u(),v("div",{key:0,onClick:s[2]||(s[2]=e=>t.value=0),class:d({prev:1,btnp:1,active:t.value==0})}," 1 ",2)):c("",!0),o.value>1?(u(),v("div",{key:1,onClick:s[3]||(s[3]=e=>t.value=1),class:d({prev:1,btnp:1,active:t.value==1})}," 2 ",2)):c("",!0),t.value>2?(u(),v("div",{key:2,onClick:s[4]||(s[4]=e=>t.value--),class:"btnp prev"}," ... ")):c("",!0),o.value>4&&t.value>1&&t.value<o.value-2?(u(),v("div",ve,p(t.value+1),1)):c("",!0),t.value<o.value-3?(u(),v("div",{key:4,onClick:s[5]||(s[5]=e=>t.value++),class:"btnp prev"}," ... ")):c("",!0),o.value>3?(u(),v("div",{key:5,onClick:s[6]||(s[6]=e=>t.value=o.value-2),class:d({prev:1,btnp:1,active:t.value==o.value-2})},p(o.value-1),3)):c("",!0),o.value>2?(u(),v("div",{key:6,onClick:s[7]||(s[7]=e=>t.value=o.value-1),class:d({prev:1,btnp:1,active:t.value==o.value-1})},p(o.value),3)):c("",!0),l("div",{onClick:s[8]||(s[8]=e=>t.value>=o.value-1?0:t.value++),class:d({prev:1,btnp:1,nouse:t.value==o.value-1})},p(">"),2)])])])])}}};var ce=D(re,[["__scopeId","data-v-0ce9a1b4"]]);export{ce as default};
